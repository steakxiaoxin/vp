---
title: 问问面试题
date: 2019-12-09
sidebar: "auto"
categories:
  - front-end
tags:
  - interview
  - vue
# keys:
#   - "bixin"
publish: false
# sticky: true
---

![](https://i.loli.net/2019/12/09/DkqOGuAF6SdBEWR.jpg)

## vue 问题

### 1.key 属性的作用和重要性

- 在渲染元素列表时，默认采用就地复用策略(无 key 情况)，性能更好，因为不需要创建和销毁 vnode，不需要在 dom 中添加移除节点。
- 而 key 的作用就是更新组件时判断两个节点是否相同。相同就复用，不相同就删除旧的创建新的。
- 但是一般列表组件都有自己的状态。例如：一个新闻列表，可点击列表项来将其标记为"已访问"，可通过 tab 切换“娱乐新闻”或是“社会新闻”。无 key 则复用会保留之前状态而出错，带 key 则替换组件拥有正确状态。
- 所以 key 的作用主要是为了高效的更新虚拟 DOM，并且保证组件状态正确。

### 2.指令

- v-html: 输出真正的 HTML
- v-text: 将数据解析为纯文本

### 3.生命周期

- beforeCreate: 未初始化
- created: 可访问数据和方法
- beforeMount: 未挂载，仍为虚拟 dom 节点
- mounted: 挂载到真实 dom 上，可进行 dom 操作
- beforeUpdate: 更新前
- updated: 更新 dom 后
- beforeDestroy: 移除监听，定时器、事件等
- destroyed: 实例销毁

### 4.双向绑定的原理是什么

- Vue 的双向数据绑定是由数据劫持结合发布者订阅者实现的。数据劫持是通过 Object.defineProperty()来劫持对象数据的 setter 和 getter 操作
- 原理: 通过 Observer 来监听自己的 model 数据变化，通过 Compile 来解析编译模板指令，最终利用 Watcher 搭起 Observer 和 Compile 之间的通信桥梁，达到数据变化->视图更新
  在初始化 vue 实例时，遍历 data 这个对象，给每一个键值对利用 Object.definedProperty 对 data 的键值对新增 get 和 set 方法，利用了事件监听 DOM 的机制，让视图去改变数据

### 5.mixin

Mixins 使我们能够为 Vue 组件编写可插拔和可重用的功能。

如果你希望在多个组件之间重用一组组件选项，例如生命周期 hook、方法等，则可以将其编写为 mixin，并在组件中简单地引用它。然后将 mixin 的内容合并到组件中。如果你要在 mixin 中定义生命周期 hook，那么它在执行时将优先于组件自己的 hook 。

缺点：命名冲突、隐式依赖

### 6.virtual dom

Virtual DOM 其实就是一个简单的 JS 对象，最少包含标签名(tag)、属性(attrs)和子元素对象(children)三个属性来描述节点，实际上它只是一层对真实 DOM 的抽象。

![](https://i.loli.net/2019/12/09/SPGDABwkCtanuQm.png)

优点：

- 具备跨平台的优势
- 操作 DOM 慢，js 运行效率高。我们可以将 DOM 对比操作放在 JS 层，提高效率
- 提升渲染性能

### 7.vuex 流程及核心概念

流程：

- 页面通过 mapAction 异步提交事件到 action
- action 通过 commit 把对应参数同步提交到 mutation
- mutation 会修改 state 中对应的值
- 最后通过 getter 把对应值抛出去，在页面的计算属性中通过 mapGetter 来动态获取 state 中的值

核心概念

- state: 保存着共有数据，数据是响应式的
- getter: 可以对 state 进行计算操作，主要用来过滤一些数据，可以在多组件之间复用
- mutations: 动态修改 state 中的数据，通过 commit 提交方法，方法必须是同步的
- actions: 通过 commit 提交 mutations，进行修改数据，可以包含任意异步操作；在组件 methods 中 mapActions 分发 action
- modules: 模块化 vuex
